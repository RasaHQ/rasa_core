

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Policies &mdash; Rasa Core 0.7.0a3 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/banner.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="Rasa Core 0.7.0a3 documentation" href="index.html"/>
        <link rel="up" title="Library Reference" href="library.html"/>
        <link rel="next" title="Controllers" href="controller.html"/>
        <link rel="prev" title="Trackers" href="tracker.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> Rasa Core
          

          
          </a>

          
            
            
              <div class="version">
                0.7
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <p class="caption"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="read_first.html">Read this first</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation and Hello World</a></li>
<li class="toctree-l1"><a class="reference internal" href="tour.html">A Quick Tour (no ML)</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_scratch.html">A Bot From Scratch</a></li>
</ul>
<p class="caption"><span class="caption-text">More Tutorials</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="tutorial_babi.html">Supervised Learning Tutorial</a></li>
<li class="toctree-l1"><a class="reference internal" href="tutorial_fake_user.html">Interactive Learning with a Fake User</a></li>
</ul>
<p class="caption"><span class="caption-text">Deep Dives</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="patterns.html">Common Patterns</a></li>
<li class="toctree-l1"><a class="reference internal" href="slot_types.html">Slot Types Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="plumbing.html">Plumbing - How it all fits together</a></li>
<li class="toctree-l1"><a class="reference internal" href="connectors.html">Connecting to messaging &amp; voice platforms</a></li>
<li class="toctree-l1"><a class="reference internal" href="domains_actions.html">Domains and Actions</a></li>
<li class="toctree-l1"><a class="reference internal" href="state.html">Tracking Conversation State</a></li>
<li class="toctree-l1"><a class="reference internal" href="policies.html">Creating Policies</a></li>
<li class="toctree-l1"><a class="reference internal" href="stories.html">Stories Data Format</a></li>
<li class="toctree-l1"><a class="reference internal" href="scheduling.html">Scheduling Reminders</a></li>
<li class="toctree-l1"><a class="reference internal" href="featurisation.html">Featurization</a></li>
<li class="toctree-l1"><a class="reference internal" href="interpreters.html">Interpreters</a></li>
<li class="toctree-l1"><a class="reference internal" href="message_handling.html">Message Handling</a></li>
</ul>
<p class="caption"><span class="caption-text">API</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="library.html">Library Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="library.html#conversation-components">Conversation Components:</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="library.html#core-base-classes">Core Base Classes:</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="domain.html">Domains</a></li>
<li class="toctree-l3"><a class="reference internal" href="tracker.html">Trackers</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Policies</a></li>
<li class="toctree-l3"><a class="reference internal" href="controller.html">Controllers</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="library.html#important-utilities">Important Utilities:</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Developer Documentation</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Change Log</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Rasa Core</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
          <li><a href="library.html">Library Reference</a> &raquo;</li>
        
      <li>Policies</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/policy.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast,
.nboutput.nblast {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast + .nbinput {
    margin-top: -19px;
}

/* nice headers on first paragraph of info/warning boxes */
.admonition .first {
    margin: -12px;
    padding: 6px 12px;
    margin-bottom: 12px;
    color: #fff;
    line-height: 1;
    display: block;
}
.admonition.warning .first {
    background: #f0b37e;
}
.admonition.note .first {
    background: #6ab0de;
}
.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}
</style>
<div class="section" id="module-rasa_core.policies">
<span id="policies"></span><h1>Policies<a class="headerlink" href="#module-rasa_core.policies" title="Permalink to this headline">¶</a></h1>
<dl class="class">
<dt id="rasa_core.policies.Policy">
<em class="property">class </em><code class="descclassname">rasa_core.policies.</code><code class="descname">Policy</code><span class="sig-paren">(</span><em>featurizer=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasa_core/policies/policy.html#Policy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasa_core.policies.Policy" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="rasa_core.policies.Policy.continue_training">
<code class="descname">continue_training</code><span class="sig-paren">(</span><em>training_trackers</em>, <em>domain</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasa_core/policies/policy.html#Policy.continue_training"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasa_core.policies.Policy.continue_training" title="Permalink to this definition">¶</a></dt>
<dd><p>Continues training an already trained policy.</p>
<p>This doesn&#8217;t need to be supported by every policy. If it is supported,
the policy can be used for online training and the implementation for
the continued training should be put into this function.</p>
</dd></dl>

<dl class="method">
<dt id="rasa_core.policies.Policy.featurize_for_training">
<code class="descname">featurize_for_training</code><span class="sig-paren">(</span><em>training_trackers</em>, <em>domain</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasa_core/policies/policy.html#Policy.featurize_for_training"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasa_core.policies.Policy.featurize_for_training" title="Permalink to this definition">¶</a></dt>
<dd><p>Transform training trackers into a vector representation.
The trackers, consisting of multiple turns, will be transformed
into a float vector which can be used by a ML model.</p>
</dd></dl>

<dl class="classmethod">
<dt id="rasa_core.policies.Policy.load">
<em class="property">classmethod </em><code class="descname">load</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasa_core/policies/policy.html#Policy.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasa_core.policies.Policy.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Loads a policy from the storage.
Needs to load its featurizer</p>
</dd></dl>

<dl class="method">
<dt id="rasa_core.policies.Policy.persist">
<code class="descname">persist</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasa_core/policies/policy.html#Policy.persist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasa_core.policies.Policy.persist" title="Permalink to this definition">¶</a></dt>
<dd><p>Persists the policy to a storage.</p>
</dd></dl>

<dl class="method">
<dt id="rasa_core.policies.Policy.predict_action_probabilities">
<code class="descname">predict_action_probabilities</code><span class="sig-paren">(</span><em>tracker</em>, <em>domain</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasa_core/policies/policy.html#Policy.predict_action_probabilities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasa_core.policies.Policy.predict_action_probabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Predicts the next action the bot should take
after seeing the tracker.</p>
<p>Returns the list of probabilities for the next actions</p>
</dd></dl>

<dl class="method">
<dt id="rasa_core.policies.Policy.train">
<code class="descname">train</code><span class="sig-paren">(</span><em>training_trackers</em>, <em>domain</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasa_core/policies/policy.html#Policy.train"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasa_core.policies.Policy.train" title="Permalink to this definition">¶</a></dt>
<dd><p>Trains the policy on given training trackers.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-rasa_core.policies.keras_policy"></span><dl class="class">
<dt id="rasa_core.policies.keras_policy.KerasPolicy">
<em class="property">class </em><code class="descclassname">rasa_core.policies.keras_policy.</code><code class="descname">KerasPolicy</code><span class="sig-paren">(</span><em>featurizer=None</em>, <em>model=None</em>, <em>graph=None</em>, <em>current_epoch=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasa_core/policies/keras_policy.html#KerasPolicy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasa_core.policies.keras_policy.KerasPolicy" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="rasa_core.policies.keras_policy.KerasPolicy.model_architecture">
<code class="descname">model_architecture</code><span class="sig-paren">(</span><em>input_shape</em>, <em>output_shape</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasa_core/policies/keras_policy.html#KerasPolicy.model_architecture"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasa_core.policies.keras_policy.KerasPolicy.model_architecture" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a keras model and return a compiled model.</p>
</dd></dl>

</dd></dl>

<span class="target" id="module-rasa_core.policies.memoization"></span><dl class="class">
<dt id="rasa_core.policies.memoization.MemoizationPolicy">
<em class="property">class </em><code class="descclassname">rasa_core.policies.memoization.</code><code class="descname">MemoizationPolicy</code><span class="sig-paren">(</span><em>featurizer=None</em>, <em>max_history=None</em>, <em>lookup=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasa_core/policies/memoization.html#MemoizationPolicy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasa_core.policies.memoization.MemoizationPolicy" title="Permalink to this definition">¶</a></dt>
<dd><p>The policy that remembers exact examples of
<cite>max_history</cite> turns from training stories.</p>
<p>Since <cite>slots</cite> that are set some time in the past are
preserved in all future feature vectors until they are set
to None, this policy implicitly remembers and most importantly
recalls examples in the context of the current dialogue
longer than <cite>max_history</cite>.</p>
<p>If it is needed to recall turns from training dialogues where
some slots might not be set during prediction time, and there are
training stories for this, use AugmentedMemoizationPolicy.</p>
<dl class="method">
<dt id="rasa_core.policies.memoization.MemoizationPolicy.predict_action_probabilities">
<code class="descname">predict_action_probabilities</code><span class="sig-paren">(</span><em>tracker</em>, <em>domain</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasa_core/policies/memoization.html#MemoizationPolicy.predict_action_probabilities"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasa_core.policies.memoization.MemoizationPolicy.predict_action_probabilities" title="Permalink to this definition">¶</a></dt>
<dd><p>Predicts the next action the bot should take
after seeing the tracker.</p>
<p>Returns the list of probabilities for the next actions.
If memorized action was found returns 1.0 for its index,
else returns 0.0 for all actions.</p>
</dd></dl>

<dl class="method">
<dt id="rasa_core.policies.memoization.MemoizationPolicy.train">
<code class="descname">train</code><span class="sig-paren">(</span><em>training_trackers</em>, <em>domain</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/rasa_core/policies/memoization.html#MemoizationPolicy.train"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#rasa_core.policies.memoization.MemoizationPolicy.train" title="Permalink to this definition">¶</a></dt>
<dd><p>Trains the policy on given training trackers.</p>
</dd></dl>

</dd></dl>

</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="controller.html" class="btn btn-neutral float-right" title="Controllers" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="tracker.html" class="btn btn-neutral" title="Trackers" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017, Rasa Technologies GmbH.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  
<div class="rst-versions" data-toggle="rst-versions" role="note" aria-label="versions">
    <span class="rst-current-version" data-toggle="rst-current-version">
        <span class="fa fa-book"> Other Versions</span>
        v: 0.6.5
        <span class="fa fa-caret-down"></span>
    </span>
    <div class="rst-other-versions">
        <dl>
            <dt>Tags</dt>
            <dd><a href="policy.html">0.6.5</a></dd>
            <dd><a href="../0.6.9/index.html">0.6.9</a></dd>
            <dd><a href="../0.7.0/index.html">0.7.0</a></dd>
            <dd><a href="../0.7.0a10/index.html">0.7.0a10</a></dd>
            <dd><a href="../0.7.0a5/index.html">0.7.0a5</a></dd>
            <dd><a href="../0.7.0a6/index.html">0.7.0a6</a></dd>
            <dd><a href="../0.7.0a7/index.html">0.7.0a7</a></dd>
            <dd><a href="../0.7.0a8/index.html">0.7.0a8</a></dd>
            <dd><a href="../0.7.0a9/index.html">0.7.0a9</a></dd>
            <dd><a href="../0.7.1/index.html">0.7.1</a></dd>
            <dd><a href="../0.7.2/index.html">0.7.2</a></dd>
            <dd><a href="../0.7.3/index.html">0.7.3</a></dd>
            <dd><a href="../0.7.4/index.html">0.7.4</a></dd>
            <dd><a href="../0.7.5/index.html">0.7.5</a></dd>
            <dd><a href="../0.7.6/index.html">0.7.6</a></dd>
            <dd><a href="../0.7.7/index.html">0.7.7</a></dd>
            <dd><a href="../0.7.8/index.html">0.7.8</a></dd>
            <dd><a href="../0.7.9/index.html">0.7.9</a></dd>
            <dd><a href="../0.8.0/index.html">0.8.0</a></dd>
            <dd><a href="../0.8.1/index.html">0.8.1</a></dd>
            <dd><a href="../0.8.2/index.html">0.8.2</a></dd>
            <dd><a href="../0.8.3/index.html">0.8.3</a></dd>
            <dd><a href="../0.8.4/index.html">0.8.4</a></dd>
            <dd><a href="../0.8.5/index.html">0.8.5</a></dd>
            <dd><a href="../0.8.6/index.html">0.8.6</a></dd>
            <dd><a href="../0.9.0/index.html">0.9.0</a></dd>
            <dd><a href="../0.9.0a1/index.html">0.9.0a1</a></dd>
            <dd><a href="../0.9.0a2/index.html">0.9.0a2</a></dd>
            <dd><a href="../0.9.0a3/index.html">0.9.0a3</a></dd>
            <dd><a href="../0.9.0a5/index.html">0.9.0a5</a></dd>
            <dd><a href="../0.9.0a7/index.html">0.9.0a7</a></dd>
            <dd><a href="../0.9.1/index.html">0.9.1</a></dd>
            <dd><a href="../0.9.2/index.html">0.9.2</a></dd>
            <dd><a href="../0.9.3/index.html">0.9.3</a></dd>
            <dd><a href="../0.9.4/index.html">0.9.4</a></dd>
            <dd><a href="../0.9.5/index.html">0.9.5</a></dd>
            <dd><a href="../0.9.6/index.html">0.9.6</a></dd>
        </dl>
        <dl>
            <dt>Branches</dt>
            <dd><a href="../0.9.x/index.html">0.9.x</a></dd>
            <dd><a href="../add-auth/index.html">add-auth</a></dd>
            <dd><a href="../apscheduler_try/index.html">apscheduler_try</a></dd>
            <dd><a href="../async/index.html">async</a></dd>
            <dd><a href="../direct_input/index.html">direct_input</a></dd>
            <dd><a href="../dispatcher/index.html">dispatcher</a></dd>
            <dd><a href="../embed_policy/index.html">embed_policy</a></dd>
            <dd><a href="../eval_scripts/index.html">eval_scripts</a></dd>
            <dd><a href="../event-stream/index.html">event-stream</a></dd>
            <dd><a href="../fix/index.html">fix</a></dd>
            <dd><a href="../master/index.html">master</a></dd>
            <dd><a href="../track_data/index.html">track_data</a></dd>
            <dd><a href="../wildcard/policy.html">wildcard</a></dd>
        </dl>
    </div>
</div>


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.7.0a3',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>